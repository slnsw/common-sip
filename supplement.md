# DRF Common SIP Specification - Supplement

*\<\<Cluster DRF Project\>\>*

| Document Control       |            |
|------------------------|------------|
| Specification Version: | 0.5        |
| Date:                  | 2024-07-19 |
| Status:                | Final      |

## Overview

Supplementary information for the DRF common SIP specification including rationale behind decisions. This is necessary to keep the main specification document succinct. Please see the [main specification document](specification.md).
  

## Approach

These are the key principles we were working under:

-   The specification needs to be simultaneously simple, easy to understand and comprehensive.
-   The specification needs to work for different types of cultural institution and a wide variety of material types.
-   The specification needs to be flexible, defining a limited set of mandatory information while providing many optional components to support the full range of SIP metadata.
-   The specification should be based upon widely used open digital preservation standards wherever possible.
-   The specification needs to be vendor and system neutral, furthermore it needs to be translatable into any system specific SIP structure.
-   The specification needs to work for both simpler digitised structures and for more complex born digital file relationships.
-   Freely available open-source software tools should exist to assist in the creation and transformation of the SIP packages.
-   The specification at a minimum must cover:
    -   File manifests and checksums.
    -   Descriptive metadata.
    -   The OAIS concepts of Representation Information.
    -   The PREMIS concepts of Intellectual Entity, Representation and File.
    -   Preservation metadata, such as pre-ingest preservation and provenance events.
        -   Which type of events are recorded will be determined by each CI (Cultural Institutions) individually.
    -   Representation of file structure.

## RATIONALE and considerations

### PREMIS assumptions and decisions:

-   PREMIS semantic units which are best left to the preservation system to generate are not part of this specification. We used only those semantic units which we think make sense in the context of a SIP (Submission Information Package). PREMIS provides minimal guidance on this, where provided this guidance has been largely followed.
-   Bitstream objects are not covered as most of the semantic units we care about at this level are generated by the DP (Digital Preservation) system during ingestion or are unlikely to be used in a SIP.
-   Object characteristics are largely recorded elsewhere in the SIP or generated on ingestion and so this specification only includes some object characteristics semantic units. For simplicity, this spec does not support multiple composition levels for object characteristics as it is unlikely we have that level of granularity to provide in the SIP.
-   Due to using an XLSX file format, the repeatability of certain semantic units in PREMIS 3.0 might not be repeatable in this specification.
-   All recommended controlled vocabularies in PREMIS 3.0 are followed where relevant.
-   If a specific digital preservation system does not fully support PREMIS 3.0 in SIPs, some or all the PREMIS metadata will likely need to be placed in an XML sidecar file, but these decisions are outside the scope of this specification.
-   PREMIS 3.0 technically allows duplicate Agent IDs across different Agent Identifier Type domains. The common SIP specification does not, each Agent ID must uniquely identify an agent across all Identifier Type domains. This is to make linking to Agents within the common SIP specification easier.
-   PREMIS 3.0 Environment objects are not supported. If a CI requires environment objects, it is best to consider the specific digital preservation system when preparing these objects. This complex modelling is handled very differently (if at all) in each system and is too difficult to generalise into a common SIP specification.
-   PREMIS allows non digital representations, this is not supported in the common SIP specification.
-   PREMIS allows IEs to be defined at any level of aggregation. The common SIP specification does not make any assumptions about the level but keep in mind the other constraints outlined in this document which may impact which levels of aggregation to model with common SIPs. The descriptive metadata field dcterms:type could be used to indicate the level of aggregation.

### PREMIS Relationships

-   Where available and it makes sense, this specification allows the modelling of relationships as defined in PREMIS. However, PREMIS primary identifiers for Objects, Rights Statements and Events are not supported and will generally be generated internally by the preservation system to ensure uniqueness. This makes modelling certain relationships explicitly (such as an IEs relationship to its Representations) or at all in the SIP difficult. This specification aims to provide the ability to explicitly model the most important relationships which can be realistically provided in a SIP.
-   In some cases, the common SIP specification uses file paths instead of object identifiers to model PREMIS relationships in the SIP. How these are converted to PREMIS object identifiers depends on the specific digital preservation system.
-   For those relationships which cannot be modelled explicitly but are modelled implicitly, the implied relationship (such as the Representations belonging to the IE) should be converted into PREMIS relationships by the specific preservation system.
-   PREMIS allows relationships between entities to be defined on either side or both sides, how this is modelled will be determined by the preservation system.
-   This specification does not support relationships between Agents and Rights entities.
-   PREMIS allows relationships between IEs and supports IEs without direct representations or files. These could for example be used to model a hierarchy of IEs. These types of IEs and relationships are not supported in the common SIP specification. You can specify a collection in the administrative metadata spreadsheet to indicate the IE belongs to that collection.
-   PREMIS allows the direct relation of files to IEs without representations. This is not supported in the common SIP specification where each file must belong to a representation.
-   PREMIS supports the concept of external only IEs where representations or files are related to the external IE by way of URL (Uniform Resource Locator) and the IE is not represented in PREMIS. This is not supported in the common SIP specification where IE objects must be defined but the required metadata for the PREMIS IE in the common SIP specification is very minimal.
-   You can still link to the external IE with PREMIS using an IE objectIdentifier and in the common SIP spec this is supported with the IE\_external\_identifiers sheet. These secondary identifiers will not be used for PREMIS relationships within the DP system. The idea with these external IDs is that the full IE metadata is described externally with a minimal description in the DP system for the purposes of aggregating the representations and/or files. If a CI is lacking an external system for describing intellectual entities, they can document the IE within the SIP using descriptive metadata more fully using Dublin core terms or an alternative supported descriptive metadata schema.


#### Supported

**Object \<=\> Object**

-   Within an IE, implicitly defined. For example, all files within a representation.
-   Within an IE, defined as part of an Event. For example, the creation of a derivative file.
-   No other Object \<=\> Object relationships are supported in the SIP spec.

**Object \<=\> Event**

-   Implemented with PREMIS\_IE\_events, PREMIS\_Rep\_events, PREMIS\_Files\_events.
-   In the common SIP specification, the cardinality of this relationship is N:N.
-   DP system to decide to record relationship on the Object or Event side.

**Object \<=\> Rights Statement**

-   Implemented with PREMIS\_IE\_rights, PREMIS\_Rep\_rights, PREMIS\_Files\_rights.
-   In the common SIP specification, the cardinality of this relationship is 1:N.
-   DP system to decide to record relationship on the Object or Rights Statement side.
-   Duplication of Rights Statements may occur within and across SIPs and therefore within the DP System. If this is undesirable, consider creating Rights Statements in the DP system and relating to/from the Objects within the DP System after ingestion.

**Event \<=\> Agent**

-   Implemented within PREMIS\_IE\_events, PREMIS\_Rep\_events, PREMIS\_Files\_events.
-   In the common SIP specification, the cardinality of this relationship is N:1.
-   DP system to decide to record relationship on the Event or Agent side.
-   Ideally the DP system uses the Agent identifier to avoid duplication when the same Agent is used in multiple SIPs. It is therefore particularly important that you do not provide varying data for Agents in different SIPs which have the same Agent Identifier as the DP system may discard everything aside from the Identifier.

#### Not Supported

**Agent \<=\> Rights Statement**

-   The common SIP spec provides no method of relating Agents and Rights statements.

### OAIS assumptions and decisions

-   Representation information networks (chaining multiple instances of representation information) are not supported by this specification.
-   If a CI requires representation information networks, it is best to consider the specific digital preservation system when preparing these objects. This complex modelling is handled very differently (if at all) in each system and is too difficult to generalise into a common SIP specification.
-   The DP system should attempt to link/associate any files provided in the representation\_information directory directly to the objects being preserved. In practice how this is achieved will be DP system dependent. As this information is critical for the rendering or understanding of the content being preserved the DP system should treat this as material to preserve. If the target system has no concept of OAIS representation information, this data should be added as an additional PREMIS representation within the IE as a last resort.
-   Keep in mind that digital preservation systems typically have built in features such as file format and software registries that will also provide a certain level of representation information and structural maps can also be considered a kind of representation information. The representation\_information directory is included in the specification for additional representation information. You might not have any additional representation information for most or even all your IEs and that is fine. It is much better to get them into the preservation system with missing representation information than not at all.
-   There is no directory for Preservation Description Information (PDI). PDI is distributed through the spreadsheets and BagIt tag files.

### Structural metadata assumptions and decisions

-   METS structural maps are not designed to be a replacement for maintaining/recreating directory structures where they are important for preservation or rendering.
-   METS structural maps are also not designed to be used to model relationships between files aside from the basic groupings under div elements.
-   A single METS structural map can theoretically contain files from multiple PREMIS representations, but this specification does not support it.
-   Our usage of FILEID is technically incorrect and so the structural map will not validate if we have directory separator forward slashes in any of the FILEID fields. This does not matter as the digital preservation system should generate a fuller METS file with file sections and use these for the FILEID fields at which point it will be validated.

### Descriptive metadata assumptions and decisions

-   Support for Dublin core terms is based on the latest documentation here <https://www.dublincore.org/specifications/dublin-core/dcmi-terms/>
-   This latest documentation does not use the terminology "qualified" but functionally these qualifications are supported.
-   Element refinements are supported as their own terms
-   Encoding schemes are supported with the md\_encoding column.
-   So, you just pick the most appropriate field from <https://www.dublincore.org/specifications/dublin-core/dcmi-terms/> and if supported/desired specify an encoding scheme.

### File and directory naming

BagIt is file system neutral so files can be stored on any filesystem. This presents challenges for as different filesystems have different constraints and structures. For example, Apple DOS 3.3 has a maximum filename length of 30 chars/bytes whereas with FAT32 in DOS the maximum is 11 chars/bytes. Other aspects with differences between filesystems include character set/encoding, case preservation/sensitivity and reserved characters.

Due to these differences copying files between filesystems can lead to unpredictable and undesirable results. Some file copying applications can help if they support the conversion of encodings but in general this requires knowing the encodings of the source and destination filesystems.

It is also worth considering that this conversion could change the underlying bytes of the filenames but in general we are more interested in preserving the filename characters than the bytes themselves (note this is different when preserving contents of files, where the bytes need to be maintained!).

Assuming you want to preserve the filename characters (likely), even if you carefully convert encodings intelligently during transfers this will not avoid all issues such as different filename length restrictions.

One method to try and avoid some of these issues is to standardise the filenames in representation directories into a format which is widely supported across most filesystems. This approach requires renaming any files which do not conform to the standard. This can cause problems with the rendering of complex objects with file relationships that depend on the original directory and filenames. If this method is used, the renaming events should be recorded, and the original directory and filename should be documented in the PREMIS\_Files\_original\_name sheet as documented in the specification. Keep in mind that with this method when exporting the original directory and filename structures it will have to be exported to a filesystem compatible with the original recorded names.

If standardising and you are unsure of the best approach, try these conventions:

-   Contain lower-case letters, numbers, dots, underscores, or dashes. (a--z0--9.\_-)
-   MUST NOT begin with a dash. (-)
-   MUST NOT contain whitespaces
-   MUST be at least 1 character in length.
-   Filename MUST BE restricted to 255 bytes
-   Entire path MUST BE restricted to 1024 bytes in length including any file extension

In general, it is not advisable to rename files or directories unless necessary. And in general, if renaming it is advisable to record the original names. However, it\'s a complicated topic and renaming non-standard characters is worth discussing and considering but should not be done lightly and without good reason.

Another method which could avoid some of these issues is to use an archive file or disk image, there is nothing in this specification which prohibits this, but it is a complicated topic outside the scope of this document.

Whatever strategy and tools you choose please keep in mind that these are only guidelines and testing will be required across the entire life cycle of your digital assets and SIPs from accession/creation through ingestion to preservation and access/export to determine what works and what is problematic for you in practice. There are a lot of variables to consider and so testing is essential.
